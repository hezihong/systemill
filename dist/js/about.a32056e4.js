(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0a7a":function(e,t,r){e.exports=r.p+"img/login_pic.975a16b8.png"},"1d80b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("el-container",[r("el-header",{staticClass:"elHeader",staticStyle:{},attrs:{height:"70px"}},[r("div",{staticClass:"header"},[r("div",{staticClass:"collapse-btn"},[r("i",{staticClass:"el-icon-s-fold"})]),r("div",{staticClass:"logo"},[e._v("病理信息管理系统")])])])],1),r("div",{staticClass:"main_container"},[r("h1",{staticClass:"title"},[e._v("注册")]),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"checkUser"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",{attrs:{label:"真实姓名",prop:"checkName"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.realname,callback:function(t){e.$set(e.ruleForm,"realname",t)},expression:"ruleForm.realname"}})],1),r("el-form-item",{attrs:{label:"证件号",prop:"idNumber"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.idNumber,callback:function(t){e.$set(e.ruleForm,"idNumber",t)},expression:"ruleForm.idNumber"}})],1),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[r("el-radio",{attrs:{label:"男"}}),r("el-radio",{attrs:{label:"女"}})],1)],1),r("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),r("el-form-item",{staticClass:"bottom"},[r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("表单提交")]),r("el-button",{staticClass:"btn",on:{click:function(t){return e.$router.push("/login")}}},[e._v("返回")])],1)],1)],1)])])],1)},s=[],i=r("ef6c"),o={name:"baseform",data:function(){var e=this,t=function(t,r,a){""==r?a(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),a())},r=function(t,r,a){""==r?a(new Error("请再次输入密码")):r!==e.ruleForm.pass?a(new Error("两次输入密码不一致!")):a()},a=function(t,r,a){""==e.ruleForm.username&&a(new Error("请输入用户名"));for(var s=0;s<e.userList.length;s++)e.ruleForm.username==e.userList[s].username?a(new Error("用户名已被占用")):s==e.userList.length&&a()},s=function(t,r,a){if(e.ruleForm.realname){var s=/^[\u4e00-\u9fa5]+$/;if(!(e.ruleForm.realname.length<100&&s.test(e.ruleForm.realname)))return a(new Error("请输入正确的中文名"));a()}else a(new Error("请输入中文名"))};return{username:"",ruleForm:{username:"",pass:"",realname:"",checkPass:"",age:"",email:"",idNumber:"",phone:""},rules:{pass:[{required:!0,validator:t,trigger:"blur"}],checkPass:[{required:!0,validator:r,trigger:"blur"}],checkUser:[{required:!0,validator:a,trigger:"blur"}],checkName:[{required:!0,validator:s,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],idNumber:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"请输入合法身份证号",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/,message:"请输入合法手机号/电话号",trigger:"blur"}]},options:i["regionData"],form:{realname:"",sex:"男",idcard:"",address:"",tel:"",mail:""}}},methods:{onSubmit:function(){var e=this;""==this.ruleForm.username||""==this.ruleForm.password||""==this.ruleForm.realname?this.$message.error("请填写完整"):this.$axios.get("/waiteradd",{params:{username:this.ruleForm.username,password:this.ruleForm.pass,realname:this.ruleForm.realname,sex:this.form.sex,tel:this.ruleForm.phone,mail:this.ruleForm.email,idcard:this.ruleForm.idNumber}}).then((function(){e.$message({message:"注册申请已提交，正在等待管理员审批",type:"success"}),e.$router.push("/login")}))},test:function(){},handleChange:function(e){this.city=i["CodeToText"][e[0]]+i["CodeToText"][e[1]]+i["CodeToText"][e[2]]}},created:function(){var e=this;this.$axios.get("/getusername").then((function(t){e.userList=t.data}))}},l=o,n=(r("520c"),r("2877")),u=Object(n["a"])(l,a,s,!1,null,"9671f410",null);t["default"]=u.exports},"2ccf":function(e,t,r){e.exports=r.p+"img/hospital.5803aa79.png"},"520c":function(e,t,r){"use strict";var a=r("becd"),s=r.n(a);s.a},"70f0":function(e,t,r){},"89d2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"login_main clearfix"},[r("div",{staticClass:"container1 clearfix"},[r("div",{staticClass:"middle-box"},[e._m(1),r("article",{staticClass:"login-box clearfix"},[e._m(2),r("div",{staticClass:"login-id clearfix"},[r("span",[e._v("用户名：")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"username",attrs:{type:"text",name:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),r("div",{staticClass:"login-pw clearfix"},[r("span",[e._v("密 码：")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"password",attrs:{type:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("div",{staticClass:"login-section "},[r("el-radio",{attrs:{label:"user"},on:{change:e.onChange},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("医护人员")]),r("el-radio",{attrs:{label:"manger"},on:{change:e.onChange},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("管理员")])],1),r("div",{staticClass:"btn-box"},[r("button",{staticClass:"login-btn",attrs:{type:"submit"},on:{click:e.onSubmit}},[e._v("登录")]),r("button",{staticClass:"register-btn",attrs:{type:"button"},on:{click:function(t){return e.$router.push("/register")}}},[e._v("注册")])])])])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_header clearfix"},[a("div",{staticClass:"container1 clearfix"},[a("div",{staticClass:"login-sign"},[a("img",{attrs:{src:r("2ccf")}})]),a("h2",[e._v("病理信息管理系统")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{staticClass:"aside  hidden-sm hidden-xs"},[a("img",{attrs:{src:r("0a7a")}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-box-title"},[r("span",{staticClass:"span1"},[e._v("用户登录 /")]),r("span",{staticClass:"span2"},[e._v("LOGIN")])])}],i={data:function(){return{username:"",password:"",radio:"user"}},methods:{onChange:function(){},onSubmit:function(){var e=this,t=this.username,r=this.password,a=this.radio;""==t?alert("用户名不能为空"):""==r?alert("密码不能为空"):this.$axios.get("/login",{params:{username:t,password:r,job:a}},{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.isLogin?(sessionStorage.setItem("my_username",e.username),sessionStorage.setItem("my_id",t.data.id),sessionStorage.setItem("my_purview",e.radio),e.$router.push("/dashboard")):alert("登陆失败，请检查输入是否正确")}))}}},o=i,l=(r("ca05"),r("2877")),n=Object(l["a"])(o,a,s,!1,null,"3e3427e5",null);t["default"]=n.exports},becd:function(e,t,r){},ca05:function(e,t,r){"use strict";var a=r("70f0"),s=r.n(a);s.a}}]);
//# sourceMappingURL=about.a32056e4.js.map